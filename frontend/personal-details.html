<!DOCTYPE html>
<html>

<head>
    <title>My Philanthropies - Personal Details</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="images/favicon.ico" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <link href="forms.css" type="text/css" rel="stylesheet" />
</head>

<body>
    <div class="columns" id="page">
        <div class="column is-4-desktop is-3-tablet is-2-mobile"></div>
        <div class="column is-4-desktop is-6-tablet is-8-mobile" id="form-container">
            <img id="logo" src="images/My-Philanthropies-Logo-3.1-Square.png" style="max-height: 100px;">
            <div class="columns">
                <div class="column is-one-third namerow">
                    <div class="field">
                        <div class="control">
                            <input class="input" type="text" placeholder="First" value="">
                        </div>
                    </div>
                </div>
                <div class="column is-one-third namerow">
                    <div class="field">
                        <div class="control">
                            <input class="input" type="text" placeholder="Last" value="">
                        </div>
                    </div>
                </div>
                <div class="column is-one-third namerow">
                    <div class="field">
                        <div class="control">
                            <input class="input" type="text" placeholder="MI" value="">
                        </div>
                    </div>
                </div>
            </div>


            <div class="field">
                <label class="label">Age Range</label>
                <div class="control has-icons-left has-icons-right">
                    <!-- MODIFY RANGES -->
                    <input id="sliderWithValue" class="slider is-fullwidth has-output" step="10" min="16" max="100" value="25" type="range">
                    <output for="sliderWithValue"></output>
                </div>
            </div>

            <div class="field">
                <label class="label">Employment Status</label>
                <div class="buttons has-addons">
                    <button class="button">Student</button>
                    <button class="button is-info is-selected">Full-Time</button> <!-- on click, add is-info, is-selected for feedback purposes -->
                    <button class="button">Part-Time</button>
                    <button class="button">Unemployed</button>
                </div>
            </div>

            <div class="field">
                <input class="is-checkradio is-medium" id="exampleCheckboxMedium" type="checkbox" name="exampleCheckboxMedium">
                <label for="exampleCheckboxMedium">Do you have reliable transportation?</label>
            </div>

            <div class="field">
                <input class="is-checkradio is-medium" id="exampleCheckboxMedium" type="checkbox" name="exampleCheckboxMedium">
                <label for="exampleCheckboxMedium">Are you a licensed driver?</label>
            </div>
        </div>
    </div>
    <div class="column is-4-desktop is-3-tablet is-2-mobile"></div>
    <script>
        // Find output DOM associated to the DOM element passed as parameter
        function findOutputForSlider(element) {
            var idVal = element.id;
            outputs = document.getElementsByTagName('output');
            for (var i = 0; i < outputs.length; i++) {
                if (outputs[i].htmlFor == idVal)
                    return outputs[i];
            }
        }

        function getSliderOutputPosition(slider) {
            // Update output position
            var newPlace,
                minValue;

            var style = window.getComputedStyle(slider, null);
            // Measure width of range input
            sliderWidth = parseInt(style.getPropertyValue('width'), 10);

            // Figure out placement percentage between left and right of input
            if (!slider.getAttribute('min')) {
                minValue = 0;
            } else {
                minValue = slider.getAttribute('min');
            }
            var newPoint = (slider.value - minValue) / (slider.getAttribute('max') - minValue);

            // Prevent bubble from going beyond left or right (unsupported browsers)
            if (newPoint < 0) {
                newPlace = 0;
            } else if (newPoint > 1) {
                newPlace = sliderWidth;
            } else {
                newPlace = sliderWidth * newPoint;
            }

            return {
                'position': newPlace + 'px'
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Get all document sliders
            var sliders = document.querySelectorAll('input[type="range"].slider');
            [].forEach.call(sliders, function(slider) {
                var output = findOutputForSlider(slider);
                if (output) {
                    if (slider.classList.contains('has-output-tooltip')) {
                        // Get new output position
                        var newPosition = getSliderOutputPosition(slider);

                        // Set output position
                        output.style['left'] = newPosition.position;
                    }

                    // Add event listener to update output when slider value change
                    slider.addEventListener('input', function(event) {
                        if (event.target.classList.contains('has-output-tooltip')) {
                            // Get new output position
                            var newPosition = getSliderOutputPosition(event.target);

                            // Set output position
                            output.style['left'] = newPosition.position;
                        }

                        // Update output with slider value
                        output.value = event.target.value;
                    });
                }
            });
        });
    </script>
</body></html>
